# NVIDIA Dynamo Platform Configuration
# Version: 0.6.0

# Dynamo Operator Configuration
dynamo-operator:
  enabled: true
  namespaceRestriction:
    enabled: true  # Required if other namespace-restricted operators exist
  manager:
    image:
      repository: nvcr.io/nvidia/ai-dynamo/kubernetes-operator
      tag: 0.6.0
  controllerManager:
    resources:
      limits:
        cpu: 1024m
        memory: 2Gi
      requests:
        cpu: 100m
        memory: 128Mi
  mpi:
    sshKeyGeneration: true

# etcd Configuration
etcd:
  enabled: true
  replicaCount: 1  # Use 3 for production HA
  image:
    repository: bitnamilegacy/etcd  # Use legacy repo per Bitnami brownout notice
    tag: 3.5.18-debian-12-r5
  persistence:
    enabled: true
    size: 1Gi

# NATS Messaging Configuration
nats:
  enabled: true
  replicaCount: 1  # Use 3 for production HA
  image:
    repository: nats
    tag: 2.10.21-alpine
  jetstream:
    enabled: true
    storage:
      size: 10Gi

# KAI Scheduler Configuration
kai-scheduler:
  enabled: true

# Grove Operator Configuration
grove:
  enabled: true

# Monitoring Configuration
monitoring:
  prometheus:
    enabled: true
    podMonitor: true
